<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/wesleytodd/YeoPress">generator-wordpress (v2.0.2)</a>
</h1>
<h4>A Yeoman generator for WordPress</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.generator-wordpress">module generator-wordpress</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.config">
            function <span class="apidocSignatureSpan">generator-wordpress.</span>config
            <span class="apidocSignatureSpan">(locals, globals)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">generator-wordpress.</span>config.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">generator-wordpress.</span>wordpress</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.generator-wordpress.config">module generator-wordpress.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.config.config">
            function <span class="apidocSignatureSpan">generator-wordpress.</span>config
            <span class="apidocSignatureSpan">(locals, globals)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.generator-wordpress.config.prototype">module generator-wordpress.config.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.config.prototype.get">
            function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>get
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.config.prototype.load">
            function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>load
            <span class="apidocSignatureSpan">(filepath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.config.prototype.set">
            function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>set
            <span class="apidocSignatureSpan">(key, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.config.prototype.setGlobal">
            function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>setGlobal
            <span class="apidocSignatureSpan">(key, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.config.prototype.write">
            function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>write
            <span class="apidocSignatureSpan">(filepath, data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.generator-wordpress.wordpress">module generator-wordpress.wordpress</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.activateTheme">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>activateTheme
            <span class="apidocSignatureSpan">(themeName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.createDBifNotExists">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>createDBifNotExists
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.downloadLanguageFile">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>downloadLanguageFile
            <span class="apidocSignatureSpan">(language, file, format, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.getContentDir">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getContentDir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.getCurrentVersion">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getCurrentVersion
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.getDbCredentials">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getDbCredentials
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.getLanguage">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getLanguage
            <span class="apidocSignatureSpan">(contentDir, language, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.getSaltKeys">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getSaltKeys
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.installTheme">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>installTheme
            <span class="apidocSignatureSpan">(generator, config, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.loadConfig">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>loadConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.generator-wordpress.wordpress.setupTheme">
            function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>setupTheme
            <span class="apidocSignatureSpan">(generator, config, done)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>repo</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.generator-wordpress" id="apidoc.module.generator-wordpress">module generator-wordpress</a></h1>


    <h2>
        <a href="#apidoc.element.generator-wordpress.config" id="apidoc.element.generator-wordpress.config">
        function <span class="apidocSignatureSpan">generator-wordpress.</span>config
        <span class="apidocSignatureSpan">(locals, globals)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (locals, globals) {
	// Default config file name
	this.filename = '.yeopress';

	// Load files
	this.global = this.load(path.join(process.env.HOME  || process.env.USERPROFILE, this.filename)) || {};
	this.local = this.load() || {};

	// Set initial data
	if (locals) this.set(locals);
	if (globals) this.setGlobal(globals);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.generator-wordpress.config" id="apidoc.module.generator-wordpress.config">module generator-wordpress.config</a></h1>


    <h2>
        <a href="#apidoc.element.generator-wordpress.config.config" id="apidoc.element.generator-wordpress.config.config">
        function <span class="apidocSignatureSpan">generator-wordpress.</span>config
        <span class="apidocSignatureSpan">(locals, globals)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (locals, globals) {
	// Default config file name
	this.filename = '.yeopress';

	// Load files
	this.global = this.load(path.join(process.env.HOME  || process.env.USERPROFILE, this.filename)) || {};
	this.local = this.load() || {};

	// Set initial data
	if (locals) this.set(locals);
	if (globals) this.setGlobal(globals);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.generator-wordpress.config.prototype" id="apidoc.module.generator-wordpress.config.prototype">module generator-wordpress.config.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.generator-wordpress.config.prototype.get" id="apidoc.element.generator-wordpress.config.prototype.get">
        function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>get
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (key) {
	// Get a single key
	if (key) {
		if (typeof this.local[key] !== 'undefined') {
			return this.local[key];
		}
		if (typeof this.global[key] !== 'undefined') {
			return this.global[key];
		}
		return;
	}

	// Get all data
	var data = {};
	for (var g in this.global) data[g] = this.global[g];
	for (var l in this.local) data[l] = this.local[l];
	return data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		this.logger.verbose('Got current WP version: ' + ver);
		this.conf.set('wpVer', ver);
		getInput();
	}.bind(this));

	// Get the input
	var getInput = function getInput() {
		this.prompt(require('./prompts')(this.options.advanced, this.conf.<span class="apidocCodeKeywordSpan">get</span>()),
function(input) {
			this.prompt([{
				message: 'Does this all look correct?',
				name: 'confirm',
				type: 'confirm'
			}], function(i) {
				if (i.confirm) {
					// Set port
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.config.prototype.load" id="apidoc.element.generator-wordpress.config.prototype.load">
        function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>load
        <span class="apidocSignatureSpan">(filepath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (filepath) {
	filepath = filepath || this.filename;
	if (fs.existsSync(filepath)) {
		var content = fs.readFileSync(filepath, {encoding: 'utf8'});
		return JSON.parse(content);
	}
	return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Constructor
var Config = module.exports = function(locals, globals) {
	// Default config file name
	this.filename = '.yeopress';

	// Load files
	this.global = this.<span class="apidocCodeKeywordSpan">load</span>(path.join(process.env.HOME  || process.env.USERPROFILE, this
.filename)) || {};
	this.local = this.load() || {};

	// Set initial data
	if (locals) this.set(locals);
	if (globals) this.setGlobal(globals);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.config.prototype.set" id="apidoc.element.generator-wordpress.config.prototype.set">
        function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>set
        <span class="apidocSignatureSpan">(key, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (key, val) {
	if (typeof val !== 'undefined') {
		// Set a single key
		this.local[key] = val;
	} else {
		// Set multiple keys
		for (var i in key) this.local[i] = key[i];
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	this.logger.log(art.wp, {logPrefix: ''});
	
	// Get the current version number of wordpress
	this.logger.verbose('Getting current WP version');
	wordpress.getCurrentVersion(function(err, ver) {
		if (err) this.logger.warn('Error getting WP versions.  Falling back to ' + ver);
		this.logger.verbose('Got current WP version: ' + ver);
		this.conf.<span class="apidocCodeKeywordSpan">set</span>('wpVer', ver);
		getInput();
	}.bind(this));

	// Get the input
	var getInput = function getInput() {
		this.prompt(require('./prompts')(this.options.advanced, this.conf.get()), function(input) {
			this.prompt([{
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.config.prototype.setGlobal" id="apidoc.element.generator-wordpress.config.prototype.setGlobal">
        function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>setGlobal
        <span class="apidocSignatureSpan">(key, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setGlobal = function (key, val) {
	if (typeof val !== 'undefined') {
		// Set a single key
		this.global[key] = val;
	} else {
		// Set multiple keys
		for (var i in key) this.global[i] = key[i];
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// Load files
	this.global = this.load(path.join(process.env.HOME  || process.env.USERPROFILE, this.filename)) || {};
	this.local = this.load() || {};

	// Set initial data
	if (locals) this.set(locals);
	if (globals) this.<span class="apidocCodeKeywordSpan">setGlobal</span>(globals);
};

// Set local config values
Config.prototype.set = function(key, val) {
	if (typeof val !== 'undefined') {
		// Set a single key
		this.local[key] = val;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.config.prototype.write" id="apidoc.element.generator-wordpress.config.prototype.write">
        function <span class="apidocSignatureSpan">generator-wordpress.config.prototype.</span>write
        <span class="apidocSignatureSpan">(filepath, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (filepath, data) {
	filepath = filepath || this.filename;
	data = data || this.get();
	fs.writeFileSync(filepath, JSON.stringify(data, null, '\t'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		this.logger.log('Running vagrant up');
		var child = require('child_process').exec('vagrant up', function(err) {
			if (err) return this.logger.error(err);
			this.logger.verbose('Finished running Vagrant');
			done();
		}.bind(this));
		child.on('error', function(err) {
			process.stderr.<span class="apidocCodeKeywordSpan">write</span>(err);
		});
		child.stdout.on('data', function(data) {
			process.stdout.write(data);
		});
		child.stderr.on('data', function(err) {
			process.stderr.write(err);
		});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.generator-wordpress.wordpress" id="apidoc.module.generator-wordpress.wordpress">module generator-wordpress.wordpress</a></h1>


    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.activateTheme" id="apidoc.element.generator-wordpress.wordpress.activateTheme">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>activateTheme
        <span class="apidocSignatureSpan">(themeName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function activateTheme(themeName, callback) {
	var ee = new EventEmitter();

	getDbCredentials().on('done', function(db) {

		var connection = mysql.createConnection({
			host     : db.host,
			user     : db.user,
			password : db.pass,
			database : db.name
		});

		connection.connect(function(err) {
			if (err) return ee.emit('error', err);

			var q = [
				"UPDATE " + db.prefix + "options",
				"SET option_value =  "+ mysql.escape(themeName),
				"WHERE option_name = 'template'",
				"OR option_name = 'stylesheet'"	
			].join('\n');

			connection.query(q, function(err, rows, fields) {
				if (err) return ee.emit('error', err);
				connection.end(function() {
					ee.emit('done');
				});
			});

		});

	});

	if (typeof callback === 'function') {
		ee.on('done', callback);
	}

	return ee;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	if (this.conf.get('installTheme')) {
		var done = this.async();

		this.logger.log('Starting to install theme');
		wordpress.installTheme(this, this.conf.get(), function() {
			//@TODO You need to run the install before doing this
			//see if I can get yeopress to do that.
			//wordpress.<span class="apidocCodeKeywordSpan">activateTheme</span>(this.conf.get(), done);
			this.logger.verbose('Theme install complete');
			done();
		}.bind(this));
	}

};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.createDBifNotExists" id="apidoc.element.generator-wordpress.wordpress.createDBifNotExists">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>createDBifNotExists
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createDBifNotExists(callback) {
	var ee = new EventEmitter();

	getDbCredentials().on('done', function(db) {

		var connection = mysql.createConnection({
			host     : db.host,
			user     : db.user,
			password : db.pass
		});

		connection.connect(function(err) {
			if (err) return ee.emit('error', err);

			connection.query('CREATE DATABASE IF NOT EXISTS ' + mysql.escapeId(db.name), function(err, rows, fields) {
				if (err) return ee.emit('error', err);
				connection.end(function() {
					ee.emit('done');
				});
			});

		});

	}).on('error', function(err) {
		ee.emit('error', err);
	});

	if (typeof callback === 'function') {
		ee.on('done', callback);
	}

	return ee;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.downloadLanguageFile" id="apidoc.element.generator-wordpress.wordpress.downloadLanguageFile">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>downloadLanguageFile
        <span class="apidocSignatureSpan">(language, file, format, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function downloadLanguageFile(language, file, format, callback) {
	// Build url with or without a file
	if (file &amp;&amp; file != '') {
		var url = util.format('/projects/wp/dev/%s/%s/default/export-translations?format=%s', file, language, format);
	} else {
		var url = util.format('/projects/wp/dev/%s/default/export-translations?format=%s', language, format);
	}

	// Make request
	http.get({
		hostname: 'translate.wordpress.org',
		path: url,
	}, function(res) {
		// Not found
		if (res.statusCode == 404) {
			// Retry with the language code with no region specifier
			if (language.indexOf('_') !== -1) {
				// es_ES =&gt; es
				language = language.split('_')[0];
				return downloadLanguageFile(language, file, format, callback);
			}
			// Not found
			return callback(res);
		}

		// Success
		callback(null, res);
	}).on('error', callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	wordpress = require('../util/wordpress');

wordpress.getLanguage('tmp', 'es_ES', function(err) {
	console.error(err);
	console.log('All done');
});

//wordpress.<span class="apidocCodeKeywordSpan">downloadLanguageFile</span>('es_ES', 'admin', 'mo',
function(err, res) {
//	if (err) return console.error(err);
//	var f = fs.createWriteStream('tmp/es_ES.mo');
//	res.pipe(f);
//});
//wordpress.getSaltKeys().on('end', function(keys) {
//	console.log(keys);
//});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.getContentDir" id="apidoc.element.generator-wordpress.wordpress.getContentDir">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getContentDir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getContentDir() {
	var ee = new EventEmitter();

	function checkSimpleContentLocations() {
		fs.exists('wp-content', function(exists) {
			if (exists) {
				fs.realpath('wp-content', function(err, p) {
					if (err) return ee.emit('error', err);
					ee.emit('done', path.relative('.', p));
				});
			} else {
				fs.exists('content', function(exists) {
					if (exists) {
						fs.realpath('content', function(err, p) {
							if (err) erroree.emit('error', err);
							ee.emit('done', path.relative('.', p));
						});
					} else {
						ee.emit('error', 'Cannot determine content directory.');
					}
				});
			}
		});
	}

	loadConfig().on('done', function(contents) {
		var matches = contents.match(/define\(["']WP_CONTENT_DIR["'],[\s]*(.*)\)/);
		if (matches &amp;&amp; matches[1]) {

			exec('php -r "echo ' + matches[1] + ';"', function(err, stdout) {
				if (err) return checkSimpleContentLocations();

				fs.exists(stdout, function(exists) {
					if (exists) {
						ee.emit('done', path.relative('.', stdout));
					} else {
						checkSimpleContentLocations();
					}
				});
			});

		} else {
			checkSimpleContentLocations();
		}
	}).on('error', function(err) {
		checkSimpleContentLocations();
	});

	return ee;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//});
//wordpress.getCurrentVersion().on('close', function(ver) {
//	console.log(ver);
//});
//wordpress.getDbCredentials().on('done', function(creds) {
//	console.log(creds);
//});
//wordpress.<span class="apidocCodeKeywordSpan">getContentDir</span>().on('done', function(dir) {
//	console.log(dir);
//});
//wordpress.activateTheme('yeopress', function() {
//	console.log(arguments);
//});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.getCurrentVersion" id="apidoc.element.generator-wordpress.wordpress.getCurrentVersion">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getCurrentVersion
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getCurrentVersion(callback) {
	var latestVersion = '3.8';
	require('simple-git')().listRemote('--tags '+ wordpressRepo, function(err, tagsList) {
		if (err) return callback(err, latestVersion);
		tagList = ('' + tagsList).split('\n');
		tagList.pop();
		lastTag = /\d\.\d(\.\d)?/ig.exec(tagList.pop());
		if (lastTag !== null) {
			latestVersion = lastTag[0];
		}
		callback(null, latestVersion);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var done = this.async();

	// Display welcome message
	this.logger.log(art.wp, {logPrefix: ''});
	
	// Get the current version number of wordpress
	this.logger.verbose('Getting current WP version');
	wordpress.<span class="apidocCodeKeywordSpan">getCurrentVersion</span>(function(err, ver) {
		if (err) this.logger.warn('Error getting WP versions.  Falling back to ' + ver);
		this.logger.verbose('Got current WP version: ' + ver);
		this.conf.set('wpVer', ver);
		getInput();
	}.bind(this));

	// Get the input
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.getDbCredentials" id="apidoc.element.generator-wordpress.wordpress.getDbCredentials">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getDbCredentials
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getDbCredentials() {
	var ee = new EventEmitter();

	loadConfig().on('done', function(contents) {
		var db    = {};
		db.name   = contents.match(/define\(["']DB_NAME["'],[\s]*["'](.*)["']\)/)[1];
		db.user   = contents.match(/define\(["']DB_USER["'],[\s]*["'](.*)["']\)/)[1];
		db.pass   = contents.match(/define\(["']DB_PASSWORD["'],[\s]*["'](.*)["']\)/)[1];
		db.host   = contents.match(/define\(["']DB_HOST["'],[\s]*["'](.*)["']\)/)[1];
		db.prefix = contents.match(/\$table_prefix[\s]*=[\s]*["'](.*)["']/)[1];

		ee.emit('done', db);
	}).on('error', function(err) {
		ee.emit('error', err);
	});

	return ee;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//});
//wordpress.getSaltKeys().on('end', function(keys) {
//	console.log(keys);
//});
//wordpress.getCurrentVersion().on('close', function(ver) {
//	console.log(ver);
//});
//wordpress.<span class="apidocCodeKeywordSpan">getDbCredentials</span>().on('done', function(creds) {
//	console.log(creds);
//});
//wordpress.getContentDir().on('done', function(dir) {
//	console.log(dir);
//});
//wordpress.activateTheme('yeopress', function() {
//	console.log(arguments);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.getLanguage" id="apidoc.element.generator-wordpress.wordpress.getLanguage">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getLanguage
        <span class="apidocSignatureSpan">(contentDir, language, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getLanguage(contentDir, language, callback) {
	var files = {
		'': '%s.mo',
		'admin': 'admin-%s.mo',
		'admin/network': 'admin-network-%s.mo',
		'twentyeleven': path.join('themes', 'twentyeleven-%s.mo'),
		'twentytwelve': path.join('themes', 'twentytwelve-%s.mo'),
		'twentythirteen': path.join('themes', 'twentythirteen-%s.mo'),
		'twentyfourteen': path.join('themes', 'twentyfourteen-%s.mo'),
	};

	var requested = complete = 0, errors = [];
	for (var file in files) {
		requested++;
		downloadLanguageFile(language, file, 'mo', function(err, res) {
			if (err) {
				return errors.push(err);
			}

			// Pipe to  file
			var p = path.join(contentDir, 'languages', util.format(files[file], language));
			var f = fs.createWriteStream(p);
			res.pipe(f);

			// Complete
			res.on('end', function() {
				complete++;
				if (requested == complete) callback(errors.length ? null : errors);
			});
		});
	}

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Create Language directory
Generator.prototype.doveIlBagno = function() {

	// Only do this if the user specified a language
	if (this.conf.get('wpLang')) {
		this.logger.log('Setting up locale files');
		wp.locale.<span class="apidocCodeKeywordSpan">getLanguage</span>(this.conf.get('wpLang'), this.conf.get('contentDir
'), function (err) {
			if (err) this.logger.error(err);
		}.bind(this));
	}

};

// Write all these newly created files to disk so that the rest of the generator doesn't fail
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.getSaltKeys" id="apidoc.element.generator-wordpress.wordpress.getSaltKeys">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>getSaltKeys
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getSaltKeys(callback) {
	var ee = new EventEmitter(),
		keys = '';
	https.get("https://api.wordpress.org/secret-key/1.1/salt/", function(res) {
		res.on('data', function(d) {
			keys += d.toString();
		}).on('end', function() {
			ee.emit('end', keys);
		});
	});
	if (typeof callback === 'function') {
		ee.on('end', callback);
	}
	return ee;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// wp-config.php
Generator.prototype.muHaHaHaConfig = function() {

	var done = this.async();

	this.logger.log('Getting salt keys');
	wp.misc.<span class="apidocCodeKeywordSpan">getSaltKeys</span>(function(err, saltKeys) {
		if (err) {
			this.logger.error('Failed to get salt keys, remember to change them.');
		}
		this.logger.verbose('Salt keys: ' + JSON.stringify(saltKeys, null, '  '));
		this.conf.set('saltKeys', saltKeys);
		this.logger.verbose('Copying wp-config');
		this.fs.copyTpl(this.templatePath('wp-config.php.tmpl'), this.destinationPath('wp-config.php'), { conf: this
.conf });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.installTheme" id="apidoc.element.generator-wordpress.wordpress.installTheme">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>installTheme
        <span class="apidocSignatureSpan">(generator, config, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function installTheme(generator, config, done) {

	if (config.themeType == 'git') {
		generator.remote(config.themeUser, config.themeRepo, config.themeBranch, function(err, remote) {
			remote.directory('.', path.join(config.contentDir, 'themes', config.themeDir));
			done();
		}, config.refreshRemote);
	} else if (config.themeType == 'tar') {
		generator.tarball(config.themeTarballUrl, path.join(config.contentDir, 'themes', config.themeDir), done);
	}

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Install and activate the theme
Generator.prototype.dumbledoreHasStyle = function() {

	if (this.conf.get('installTheme')) {
		var done = this.async();

		this.logger.log('Starting to install theme');
		wordpress.<span class="apidocCodeKeywordSpan">installTheme</span>(this, this.conf.get(), function() {
			//@TODO You need to run the install before doing this
			//see if I can get yeopress to do that.
			//wordpress.activateTheme(this.conf.get(), done);
			this.logger.verbose('Theme install complete');
			done();
		}.bind(this));
	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.loadConfig" id="apidoc.element.generator-wordpress.wordpress.loadConfig">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>loadConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function loadConfig() {
	var ee = new EventEmitter();

	function readConfig(path) {
		fs.readFile(path, {encoding:'utf8'}, function(err, contents) {
			if (err) return ee.emit('error', err);
			ee.emit('done', contents);
		});
	}

	fs.exists('wp-config.php', function(exists) {
		if (exists) {
			readConfig('wp-config.php');
		} else {
			fs.exists('../wp-config.php', function(exists) {
				if (exists) {
					readConfig('../wp-config.php');
				} else {
					ee.emit('error', 'Config file does not exist.');
				}
			});
		}
	});

	return ee;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.generator-wordpress.wordpress.setupTheme" id="apidoc.element.generator-wordpress.wordpress.setupTheme">
        function <span class="apidocSignatureSpan">generator-wordpress.wordpress.</span>setupTheme
        <span class="apidocSignatureSpan">(generator, config, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setupTheme(generator, config, done) {
	
	console.log(chalk.green('Setting Up Theme'));

	var themePath = path.join(config.contentDir, 'themes', config.themeDir),
		themePackageJson = path.join(themePath, 'package.json');

	var themeTaskFile = '',
		themeTaskCmd = '';

	if (config.themeTaskRunner == 'grunt') {
		themeTaskFile = 'Gruntfile.js',
		themeTaskCmd = 'grunt';
	} else if (config.themeTaskRunner == 'gulp') {
		themeTaskFile = 'gulpfile.js',
		themeTaskCmd = 'gulp';
	}

	if (fs.existsSync(themePackageJson)) {
		var oldDir = process.cwd();
		process.chdir(themePath);
		console.log(chalk.green('Installing Node Packages (be patient)'));

		exec('npm install', function(err, stdout, stderr) {
			if (err) {
				console.error('Error installing packages', err, stdout, stderr);
				return done();
			}

			if (fs.existsSync(themeTaskFile)) {
				exec(themeTaskCmd + ' setup', function(err) {
					console.log(chalk.green('Theme setup!'));
					process.chdir(oldDir);
					done();
				});
			} else {
				console.log(chalk.red(themeTaskFile + ' missing!'));
				process.chdir(oldDir);
				done();
			}
		});
	} else {
		console.log(chalk.red('package.json missing!'));
		done();
	}

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

// Setup theme
Generator.prototype.dummyYouHaveToPlugItInFirst = function() {

	if (this.conf.get('installTheme')) {
		this.logger.log('Starting theme setup');
		wordpress.<span class="apidocCodeKeywordSpan">setupTheme</span>(this, this.conf.get(), this.async());
		this.logger.verbose('Theme setup complete');
	}

};

// Commit again with the template
Generator.prototype.gitMeMOARCommits = function() {
...</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>